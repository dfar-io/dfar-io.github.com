<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Software/DevOps Engineer"><link rel="shortcut icon" href=https://dfar.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Cleaning up Customer Data in nopCommerce</title></head><body><header id=banner><h2><a href=https://dfar.io/>Dave Farinelli</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Cleaning up Customer Data in nopCommerce</h1><time>January 14, 2020</time></header><p>Going through a nopCommerce project with a 40GB database, I found the majority of the space was allotted to a very large Customer table. To fix this, I decided to delete Customer data with the following criteria:</p><ul><li>No username, email, and password data</li><li>Not a system account</li><li>Doesn’t reference a Shipping and Billing address</li><li>Last activity recorded a month from today’s date</li></ul><p>I considered the customers having shopping cart items as well, but found that most of the junk data had one shopping cart item – I think this comes from a robot regularly adding specific items to a cart to check price.</p><p>Here’s the SQL used:</p><p>Once this is done, make sure to shrink the database to reclaim the space gained by clearing out the data.</p></article></main><footer id=footer></footer></body></html>