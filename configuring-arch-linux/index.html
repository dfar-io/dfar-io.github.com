<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Software/DevOps Engineer">
<link rel="shortcut icon" href=https://dfar.io/favicon.ico>
<link rel=stylesheet href=/css/style.min.css>
<title>Configuring Arch Linux</title>
</head>
<body><header id=banner>
<h2><a href=https://dfar.io/>Dave Farinelli</a></h2>
<nav>
<ul>
<li>
<a href=/about/ title=about>about</a>
</li>
</ul>
</nav>
</header>
<main id=content>
<article>
<header id=post-header>
<h1>Configuring Arch Linux</h1><time>February 1, 2021</time></header><p>If youâ€™re <a href=https://dfar.io/installing-arch-linux/>installed Arch Linux</a>, the next step is configuring the system to work as desired. In this guide, I walk through my general configuration of a newly installed Arch Linux instance.</p>
<h2 id=configure-internet>Configure Internet</h2>
<p>Set up <strong>networkmanager</strong> and if wireless, connect to an internet source:</p>
<pre><code>sudo systemctl enable NetworkManager.service
sudo systemctl start NetworkManager.service
</code></pre><h1 id=connect-to-wireless>connect to wireless</h1>
<pre><code>nmcli device wifi list
nmcli device wifi connect SSID password PASSWORD
</code></pre><p>Confirm access using <code>ping</code>.</p>
<h2 id=set-up-desktop-environment>Set up Desktop Environment</h2>
<p>Set up <code>xorg</code> by install the following packages:</p>
<ul>
<li>xorg</li>
<li>xterm</li>
<li>xorg-xinit</li>
<li>xorg-xclock</li>
<li>xorg-twm</li>
</ul>
<p>Test by starting <code>startx</code>.</p>
<p>Install the following packages to set up the window and display manager</p>
<ul>
<li>awesome</li>
<li>lightdm</li>
<li>lightdm-gtk-greeter</li>
<li>(if desktop)
<ul>
<li>nvidia</li>
<li>nvidia-settings</li>
<li>pkg-config</li>
</ul>
</li>
</ul>
<p>Configure LightDM:</p>
<pre><code>sudo systemctl enable lightdm.service
sudo systemctl start lightdm.service
</code></pre><p>You should now have a graphical display running.</p>
<h2 id=configure-desktop-environment>Configure Desktop Environment</h2>
<p>First, set up <code>firefox</code> and sign in to sync all current changes.</p>
<h3 id=set-up-multi-monitors>Set up Multi-Monitors</h3>
<p>If using multiple monitors, set them up:</p>
<p><code>sudo nvidia-xconfig</code></p>
<p>Reboot computer, then run:</p>
<p><code>sudo nvidia-settings</code></p>
<p>Save settings to the X config file.</p>
<h3 id=set-up-dropbox>Set up Dropbox</h3>
<p>To configure the graphical system, get Dropbox synced to be able to use saved entries. First, install yay:</p>
<pre><code>sudo pacman -S base-devel
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
</code></pre><p>Then import public key:</p>
<pre><code>gpg --recv-keys --keyserver hkp://pgp.mit.edu:80 FC918B335044912E
</code></pre><p>Install Dropbox:</p>
<pre><code>yay -S dropbox
</code></pre><p>Finally, start and sign in to Dropbox.</p>
<h3 id=link-existing-configurations>Link Existing Configurations</h3>
<p>Make symlinks for the following:</p>
<pre><code>mkdir ~/.config/awesome
ln -s ~/Dropbox/config/rc.lua ~/.config/awesome/rc.lua
ln -s ~/Dropbox/config/Xresources-desktop ~/.Xresources
</code></pre><p>Reboot.</p>
<h2 id=setting-up-laptop>Setting up Laptop</h2>
<p>Install the following packages:</p>
<ul>
<li><code>cbatticon</code></li>
<li><code>acpilight</code></li>
</ul>
<p>To make backlight changes using keyboard shortcuts, edit the <strong>/etc/rc.local</strong> file.</p>
<pre><code>chgrp -R backlighters /sys/class/backlight
chmod g+w /sys/class/backlight/*/*
</code></pre><p>Then add your user to the backlighters group:</p>
<pre><code>sudo groupadd backlighters
sudo usermod -aG backlighters dfar
</code></pre><p>Restart and test the ability to inc/dec backlight with Fn+F11/F12</p>
<h2 id=installing-and-configure-software>Installing and Configure Software</h2>
<h3 id=essentials>Essentials</h3>
<p>Install <code>nautilus</code>, <code>flameshot</code>, <code>evince</code>, and <code>calc</code>.</p>
<p>Using yay, install <code>systemd-numlockontty</code>, and then enable numLockOnTty</p>
<p><code>sudo systemctl enable numLockOnTty</code></p>
<h3 id=web-browsingmailchat>Web Browsing/Mail/Chat</h3>
<p>Install <code>qbittorrent</code>, <code>gnome-keyring</code>, and <code>libsecret</code>.</p>
<p>Install <code>mailspring</code> via yay, then add accounts, set to dark, and set signature.</p>
<p>Install <code>franz</code> via yay and sign in to all accounts, then turn on dark more and turn off todos.</p>
<h3 id=soundvideo-management>Sound/Video Management</h3>
<p>Install <code>vlc</code>, <code>pulseaudio</code>, <code>pasystray</code>, and <code>pavucontrol</code>.</p>
<h3 id=software-development>Software Development</h3>
<p>Install the following packages:</p>
<ul>
<li>code</li>
<li>dotnet-sdk</li>
<li>otf-fira-code</li>
<li>nodejs</li>
<li>terraform</li>
<li>intellij-idea-community-edition</li>
<li>insomnia <em>(yay)</em></li>
<li>azure-cli <em>(yay)</em></li>
<li>azure-functions-core-tools-bin <em>(yay)</em></li>
<li>azuredatastudio (yay)</li>
</ul>
<p>Sync settings in VSCode.</p>
<h3 id=networking>Networking</h3>
<p>For VPN, install <code>openvpn</code>, <code>network-manager-applet</code>, and <code>networkmanager-openvpn</code>. Connect to all OpenVPN instances (log in using web and download profiles).</p>
<p>For RDP, install <code>remmina</code> and <code>freerdp</code>, then connect to all RDP boxes.</p>
<h3 id=virtualization>Virtualization</h3>
<p>Install <code>gnome-boxes</code>, then create a Win10 box with 8GB memory, 100GB HDD. Install the following software using chocolatey:</p>
<ul>
<li>git</li>
<li>visualstudio2019community</li>
<li>sql-server-management-studio</li>
<li>sql-server-express</li>
</ul>
<h3 id=scannerprinter>Scanner/Printer</h3>
<p>Install <code>sane</code> and <code>imagescan</code>. Then run <code>utsushi</code> for scanning.</p>
<p>For printing, install <code>cups</code>, <code>nss-mdns</code>, <code>avahi</code>, <code>python-gobject</code>, <code>pygtk</code>, <code>python-dbus</code>, and then enable and start the services:</p>
<pre><code>sudo systemctl enable org.cups.cupsd.service
sudo systemctl start org.cups.cupsd.service
sudo systemctl start avahi-daemon.service
</code></pre><p>Edit <code>/etc/nsswitch.conf</code> and change the hosts line to include before <code>resolve</code> and <code>dns</code>:</p>
<pre><code>mdns_minimal [NOTFOUND=return]
</code></pre><p>Now find the printer&rsquo;s IP address:</p>
<p><code>avahi-discover</code></p>
<p>And add the printer:</p>
<pre><code>lpadmin -p OfficePrinter -E -v ipp://IP_ADDRESS/ipp/print -m everywhere
</code></pre></article>
</main><footer id=footer>
</footer>
</body>
</html>