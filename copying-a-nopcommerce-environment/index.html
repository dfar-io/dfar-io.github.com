<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Software/DevOps Engineer">
<link rel="shortcut icon" href=https://dfar.io/favicon.ico>
<link rel=stylesheet href=/css/style.min.css>
<title>Copying a nopCommerce Environment</title>
</head>
<body><header id=banner>
<h2><a href=https://dfar.io/>Dave Farinelli</a></h2>
<nav>
<ul>
<li>
<a href=/about/ title=about>about</a>
</li>
</ul>
</nav>
</header>
<main id=content>
<article>
<header id=post-header>
<h1>Copying a nopCommerce Environment</h1><time>November 12, 2019</time></header><p>Copying a nopCommerce environment to a destination such as your local machine or to another environment requires two major steps:</p>
<ul>
<li>Copying the database</li>
<li>Cloning the source code and configuring to use the copied database</li>
</ul>
<h2 id=copy-the-database>Copy The Database</h2>
<ol>
<li>Using SSMS, log in to the source database server using administrative credentials (usually the remote environment).</li>
<li>On source database server, right-click on database and click Tasks -> Export Data-tier Application</li>
<li>Save the .bacpac file to the destination machine.</li>
<li>Connect to the destination database server (usually local).</li>
<li>Right-click ‘Databases’ on the destination server and click ‘Import Data-tier Application’.</li>
<li>Use the .bacpac file created from the source database.</li>
</ol>
<h2 id=copy-and-configure-the-source-code>Copy and Configure the Source Code</h2>
<ol>
<li>Clone the source code to the destination machine.</li>
<li>Create the /Presentation/Nop.Web/App_Data/dataSettings.json file with the following content:</li>
</ol>
<p>Example:</p>
<p>Next, verify the site can be accessed.</p>
<p>Finally, make sure to change the store URL to the new URL being used.</p>
<h2 id=troubleshooting-with-nop-templates>Troubleshooting with Nop-templates</h2>
<p>If you’re using nop-templates, you’ll run into some issues when trying to copy.</p>
<p>I had to delete all contents from the following SQL table:</p>
<p><code>delete from SS_C_Condition</code></p>
<p>Of course, this currently disables all HTML Widgets – so there must be a better way to do this. Take a look at <a href=https://www.nopcommerce.com/boards/t/50457/adding-or-editing-quick-tab-item-with-same-key-already-added.aspx>https://www.nopcommerce.com/boards/t/50457/adding-or-editing-quick-tab-item-with-same-key-already-added.aspx</a></p>
</article>
</main><footer id=footer>
</footer>
</body>
</html>