<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Software/DevOps Engineer"><link rel="shortcut icon" href=https://dfar.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Creating a nopCommerce Plugin in version 3.90 and below</title></head><body><header id=banner><h2><a href=https://dfar.io/>Dave Farinelli</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Creating a nopCommerce Plugin in version 3.90 and below</h1><time>March 27, 2019</time></header><p>I recently worked with a client using an older version of nopCommerce that needed to have a plugin made for functionality. In particular, this plugin integrates with updown.io to allow for turning checks on and off during scheduled maintenance.</p><p>To do this, you’ll need to have the nopCommerce source code available for use.</p><h2 id=creating-the-plugin>Creating the Plugin</h2><p>To get started, create a Class Library in the Plugins folder:</p><ul><li><p>Make sure to change the location to the plugin folder below the name.</p></li><li><p>Use naming convention Nop.Plugin.{category}.{name}</p></li><li><p>The categories you can use include:</p><ul><li>ExternalAuth</li><li>Widgets</li><li>ExchangeRate</li><li>DiscountRules</li><li>Payments</li><li>Shipping</li><li>Tax</li><li>Misc</li></ul></li></ul><p>Next, go into properties and make sure your Target framework is .NET Framework 4,.5.1.</p><p>Next, change the output path for all configurations to deploy to:</p><p></p><p>This will build the output of the plugin into the Web project, which will ultimately deploy to the nopCommerce application.</p><p>After that, copy a web.config file from another plugin.</p><p>Next, create a <code>Description.txt</code> file with the following content:</p><p>Set both the web.config and Description.txt files to ‘Copy if newer’.</p><p>Finally, there is a Class.cs file that was created when creating the Class Library. Rename the file to {name}Plugin.cs and use the following code snippet:</p><p>When building, you’ll be warned to add a few references as a result of referencing the Nop.Core project. Add the following NuGet packages:</p><ul><li>Microsoft.Bcl.Build</li><li>Microsoft.Bcl</li><li>Microsoft.Bcl.Async</li><li>Microsoft.Net.Http</li></ul><p>Once this is done, you should be able to clean, build, and publish the project. Check the plugins list of the admin backend to see your plugin listed:</p><p></p><p>Just to ensure everything is working, go ahead and install the plugin. The plugin should install successfully, and the plugin will then be running on your site. You’re now ready to make changes to the plugin to modify NopCommerce capabilities.</p><h2 id=next-steps>Next Steps</h2><p>After the initial plugin was created, next steps include:</p><ul><li>Creating a logo named logo.png and upload it to the plugin. Set the image to ‘Copy if newer’ and size the image to around 50×50.</li><li><a href=https://dfar.io/setting-up-a-configuration-page-for-your-3-90-or-below-nopcommerce-plugin/>Set up a configuration page</a> to allow for customizing data on the plugin.</li></ul><p>Reference: <br><a href="http://docs.nopcommerce.com/pages/viewpage.action?pageId=22675509">http://docs.nopcommerce.com/pages/viewpage.action?pageId=22675509</a></p></article></main><footer id=footer></footer></body></html>