<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Software/DevOps Engineer"><link rel="shortcut icon" href=https://dfar.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>Getting Slack Notifications with Azure Monitor</title></head><body><header id=banner><h2><a href=https://dfar.io/>Dave Farinelli</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Getting Slack Notifications with Azure Monitor</h1><time>September 30, 2019</time></header><p>An option when trying to get alerts from Azure Monitor (such as web tests, processing alerts and more) is to get them to a Slack channel to allow for an alternative to receiving alerts via email.</p><h2 id=setting-up-slack>Setting up Slack</h2><p>To start, you’ll need to have a Slack workspace with an available app. If needed, create the channel desired to receive notifications.</p><p>Create a new Slack app named “Azure Notifications” and turn on the “Incoming Webhooks” capability, which will provide a URL (webhook) that you’ll use later to receive the notifications from Azure.</p><h2 id=creating-conversion-logic-app-in-azure>Creating Conversion Logic App in Azure</h2><p>Next, you’ll need to create a logic app in Azure that takes the alert provided from Azure and converts the message into something that can be displayed in Slack.</p><p>Create a logic app, open Code View and use the following (replacing the URI provided with the one above):</p><p>You can test by running the code directly, and see if you get a red circle:</p><p></p><p>Assuming this is in place, the final step is creating an action group that allows for setting alerts to send to the Slack channel.</p><p>Before going to the next step, take note of the webhook provided by the Logic App:</p><p></p><h2 id=setting-up-action-group>Setting up Action Group</h2><p>The final step is setting up an action group with the Logic App webhook, while turning on the Common Alert Schema.</p></article></main><footer id=footer></footer></body></html>