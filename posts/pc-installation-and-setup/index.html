<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Software/DevOps Engineer"><link rel="shortcut icon" href=https://dfar.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><title>PC Installation and Setup</title></head><body><header id=banner><h2><a href=https://dfar.io/>Dave Farinelli</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>PC Installation and Setup</h1><time>September 14, 2023</time></header><h2 id=create-windows-installation-media>Create Windows Installation Media</h2><p>Via Windows, use <a href=https://support.microsoft.com/en-us/windows/create-installation-media-for-windows-99a58364-8c02-206f-aa6f-40c3b507420d>Media Creator</a>.</p><h2 id=install-windows>Install Windows</h2><ol><li>Create EFI partition<ol><li>Shift + F10</li><li><code>diskpart</code></li><li><code>list disk</code></li><li><code>select disk &lt;X></code></li><li><code>clean</code></li><li><code>convert gpt</code></li><li><code>create partition eft size=500</code></li><li><code>exit</code></li></ol></li><li>Create ~400GB partition.</li></ol><h2 id=configure-windows>Configure Windows</h2><ol><li>Setup multi monitors.</li><li>Set timezone.</li><li>Install:<ol><li>Steam (login, download any games)</li><li>Dropbox (login)</li><li>Procrastitracker</li><li>SHapr3D (login)</li><li>VSCode (settings sync)</li><li>Discord (login)</li><li>Cura (login)</li></ol></li></ol><h2 id=create-arch-linux-installation-media>Create Arch Linux Installation Media</h2><p>Via Windows:</p><ol><li>Download Arch Linux ISO</li><li>Download & Install Rufus<ol><li>Write ISO in GPT/DD Mode.</li></ol></li></ol><h2 id=install-arch-linux>Install Arch Linux</h2><ol><li><code>ping dfar.io</code> (confirm internet)</li><li><code>timedatectl set-ntp true</code></li><li><code>timedatectl status</code></li><li>Create partitions<ol><li><code>parted -l</code></li><li><code>cfdisk &lt;DISK></code><ol><li>8Gb Linux Swap</li><li>Remaining Linux Root (x86-64)</li></ol></li></ol></li><li>Format & mount partitions<ol><li><code>mkfs.ext4 &lt;PRIMARY></code></li><li><code>mkswap &lt;SWAP></code></li><li><code>swapon &lt;SWAP></code></li><li><code>mount &lt;PRIMARY> /mnt</code></li><li><code>mkdir /mnt/boot</code></li><li><code>mount &lt;EFI> /mnt/boot</code></li></ol></li><li>Install base linux<ol><li><code>pacstrap /mnt base linux linux-firemware nano grun efibootmgr networkmanager git firefox sudo wget cron xorg xterm xorg-xinit xorg-xclock xorg-twm base-devel awesome lightdm lightdm-gtk-greeter nvidia nvidia-settings pkg-config mesa arandr nautilus flameshot evince gnome-calculator numlockx vlc pulseaudio pasystray pavucontrol openvpn network-manager-applet networkmanager-openvpn remmina freerdp sane imagescan gnome-keyring</code></li></ol></li><li>Configure base linux<ol><li><code>genfstab -U /mnt >> /mnt/etc/fstab</code></li><li><code>arch-chroot /mnt</code></li><li><code>ln -sf /usr/share/zoneinfo/America/Detroit /etc/localtime</code></li><li><code>hwclock --systohc</code></li><li><code>nano /etc/locale.gen</code> (uncomment locale)</li><li><code>locale-gen</code></li><li><code>nano /etc/locale.conf</code> (LANG=en_US.UTF-8)</li><li><code>nano /etc/hostname</code></li><li><code>nano /etc/hosts</code> (add 1st code block)</li><li><code>passwd</code></li><li><code>grub-install &lt;EFI> --efi-directory=/boot</code></li><li>Add Windows to Boot<ol><li><code>blkid</code> (find UUID of EFI)</li><li><code>nano /etc/grub.d/40_custom</code> (add 2nd code block below)</li><li><code>grub-mkconfig -o /boot/grub/grub.cfg</code></li></ol></li></ol></li></ol><pre tabindex=0><code>127.0.0.1   localhost
::1         localhost
127.0.1.1   dfar-desktop.localdomain dfar-desktop
</code></pre><pre tabindex=0><code>menuentry &#34;Windows 11&#34; {
   search --fs-uuid --no-floppy --set=root &lt;EFI_UUID&gt;
   chainloader (${root})/EFI/Microsoft/Boot/bootmgfw.efi
}
</code></pre><ol><li>Setup user<ol><li><code>useradd -m dfar</code></li><li><code>passwd dfar</code></li><li><code>usermod -aG wheel,audio,video,optical,storage dfar</code></li><li><code>nano /etc/sudoers</code> (allow wheel group sudo access)</li><li>Remove thumbdrive, <code>exit</code>, <code>reboot</code></li></ol></li></ol><h2 id=configure-arch-linux>Configure Arch Linux</h2><ol><li>Login with <code>dfar</code></li><li><code>sudo systemctl start NetworkManager</code></li><li><code>sudo systemctl enable NetworkManager</code></li><li><code>sudo systemctl start lightdm.service</code></li><li><code>sudo systemctl enable lightdm.service</code></li><li>Setup Monitors<ol><li><code>arandr</code> (save result to primary.sh)</li><li><code>nano ~/.xprofile</code> (./.screenlayout/primary.sh)</li><li><code>reboot</code></li></ol></li><li>Install yay<ol><li><code>git clone https://aur.archlinux.org/yay.git</code></li><li><code>cd yay</code></li><li><code>makrpkg -si</code></li><li><code>cd..</code></li><li><code>rm -rf yay</code></li></ol></li><li>Install Dropbox<ol><li><code>git clone https://aur.archlinux.com/dropbox.git</code></li><li><code>cd dropbox</code></li><li><code>makepkg -si</code></li><li><code>cd..</code></li><li><code>rm -rf dropbox</code></li></ol></li><li>Configure Dropbox<ol><li>Sign-in</li><li><code>mkdir ~/.config/awesome</code></li><li><code>ln -s ~/Dropbox/config/rc.lua ~/.config/awesome/rc.lua</code></li><li><code>ln -s ~/Dropbox/config/Xresources-desktop ~/.Xresources</code></li><li><code>reboot</code></li></ol></li><li>Install yay packages<ol><li><code>yay -S visual-studio-code-bin insomnia azuredatastudio-bin</code></li></ol></li><li>Final touches<ol><li>Firefox</li><li>Git (config)</li><li>Set up VPN/Remmina</li><li>VSCode (settings sync)</li></ol></li></ol></article></main><footer id=footer></footer></body></html>