<!doctype html><html><head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Software/DevOps Engineer">
<link rel="shortcut icon" href=https://dfar.io/favicon.ico>
<link rel=stylesheet href=/css/style.min.css>
<title>Setting up WordPress in Azure with AKS and Helm</title>
</head>
<body><header id=banner>
<h2><a href=https://dfar.io/>Dave Farinelli</a></h2>
<nav>
<ul>
<li>
<a href=/about/ title=about>about</a>
</li>
</ul>
</nav>
</header>
<main id=content>
<article>
<header id=post-header>
<h1>Setting up WordPress in Azure with AKS and Helm</h1><time>June 14, 2019</time></header><p>To get started, you’ll need the following:</p>
<ul>
<li>kubectl</li>
<li>helm</li>
<li>Azure subscription</li>
</ul>
<h2 id=installing-wordpress-in-aks-with-helm>Installing WordPress in AKS with Helm</h2>
<p>Set up an Azure Kubernetes Service with the following:</p>
<ul>
<li>Node size – desired VM size (cheapest available is B2s)</li>
<li>Node count – need to use at least a minimum of 1.</li>
</ul>
<p>After AKS is set up, connect to it with the following:</p>
<p><code>az aks get-credentials --resource-group AKS_RG --name AKS_NAME</code></p>
<p>Install Helm:</p>
<p><code>helm init</code></p>
<p>Create a <code>values.yml</code> file:</p>
<p>Create a second file <code>values.secret.yml</code>:</p>
<p>Now install WordPress with the following commands:</p>
<p><code>helm install --name blog -f values.yml -f values.secrets.yml stable/wordpress</code></p>
<p>After installation, run the following command to get the external IP:</p>
<p><code>kubectl get svc --namespace default -w blog-wordpress</code></p>
<p>Once the IP is ready, you’ll likely need to wait for the pods to finish loading. You can check their status with:</p>
<p><code>kubectl get pods</code></p>
<p>Once ready, try accessing the IP address to get the WordPress installation.</p>
<p>Reference: <a href=https://www.digitalocean.com/community/tutorials/how-to-set-up-wordpress-with-mysql-on-kubernetes-using-helm>https://www.digitalocean.com/community/tutorials/how-to-set-up-wordpress-with-mysql-on-kubernetes-using-helm</a></p>
</article>
</main><footer id=footer>
</footer>
</body>
</html>